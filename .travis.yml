sudo: false
language: node_js
node_js:
    - 12
cache: npm
branches:
    only:
      - master # build master branch only
script:
    - hexo clean && hexo generate
    - export HEXO_ALGOLIA_INDEXING_KEY=$Algolia_APIKey
    - hexo algolia
deploy:
    provider: pages
    skip-cleanup: true
    github-token: $GH_TOKEN
    keep-history: true
    on:
        branch: master
    local-dir: public

